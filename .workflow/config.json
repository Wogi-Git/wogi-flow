{
  "version": "1.5.0",
  "projectName": "",
  "workflow": {
    "planningStyle": "feature-based",
    "agentStructure": "unified"
  },
  "loops": {
    "enabled": true,
    "maxRetries": 5,
    "maxIterations": 20,
    "commitEvery": 3,
    "pauseBetweenScenarios": false
  },
  "parallel": {
    "enabled": true,
    "maxConcurrent": 3,
    "autoApprove": false,
    "requireWorktree": true,
    "showProgress": true
  },
  "corrections": {
    "mode": "inline",
    "detailPath": ".workflow/corrections"
  },
  "phases": {
    "enabled": false,
    "definitions": []
  },
  "mandatorySteps": {
    "afterTask": [],
    "beforeCommit": [],
    "onSessionEnd": [
      "updateRequestLog",
      "updateAppMap"
    ]
  },
  "autoLog": true,
  "autoUpdateAppMap": true,
  "qualityGates": {
    "feature": {
      "require": [
        "tests",
        "appMapUpdate",
        "requestLogEntry"
      ],
      "optional": [
        "review",
        "docs"
      ]
    },
    "bugfix": {
      "require": [
        "tests",
        "requestLogEntry"
      ],
      "optional": [
        "review"
      ]
    },
    "refactor": {
      "require": [
        "tests",
        "noNewFeatures"
      ],
      "optional": [
        "review"
      ]
    }
  },
  "strictMode": {
    "verificationChecklist": false,
    "correctionReportsOnFail": false,
    "featureReportsOnComplete": false
  },
  "requireApproval": [],
  "componentRules": {
    "preferVariants": true,
    "requireAppMapEntry": true,
    "requireDetailDoc": false,
    "autoGenerateStorybook": false,
    "storybookPath": "src/stories"
  },
  "testing": {
    "runAfterTask": false,
    "runBeforeCommit": false,
    "browserTests": false,
    "browserTestUrl": "http://localhost:3000"
  },
  "hooks": {
    "preCommit": false
  },
  "skills": {
    "installed": []
  },
  "skillLearning": {
    "enabled": true,
    "autoExtract": true,
    "triggers": {
      "onCommit": true,
      "onTaskComplete": true,
      "onCompact": true
    },
    "minCorrectionsToLearn": 1,
    "autoCreateSkills": "ask"
  },
  "componentIndex": {
    "autoScan": true,
    "scanOn": [
      "sessionStart"
    ],
    "directories": [
      "src/components",
      "src/hooks",
      "src/services",
      "src/pages",
      "src/modules",
      "app"
    ],
    "ignore": [
      "*.test.*",
      "*.spec.*",
      "*.stories.*",
      "index.ts",
      "index.js",
      "__tests__",
      "__mocks__"
    ]
  },
  "figmaAnalyzer": {
    "enabled": true,
    "thresholds": {
      "exactMatch": 95,
      "strongMatch": 80,
      "variantCandidate": 60
    },
    "componentDirs": [
      "src/components",
      "components",
      "src/ui",
      "ui"
    ],
    "mcpServer": {
      "port": 3847,
      "autoStart": false
    },
    "autoScanOnAnalyze": true,
    "generatePrompts": true
  },
  "traces": {
    "saveTo": ".workflow/traces",
    "generateDiagrams": true
  },
  "worktree": {
    "enabled": false,
    "autoCleanupHours": 24,
    "keepOnFailure": false,
    "squashOnMerge": true
  },
  "hybrid": {
    "enabled": false,
    "provider": null,
    "providerEndpoint": null,
    "model": null,
    "settings": {
      "temperature": 0.7,
      "maxTokens": 4096,
      "maxRetries": 20,
      "timeout": 120000,
      "autoExecute": false,
      "createBranch": false,
      "tokenEstimation": {
        "enabled": true,
        "minTokens": 1000,
        "maxTokens": 8000,
        "defaultLevel": "medium",
        "logMetrics": true
      }
    },
    "templates": {
      "directory": "templates/hybrid"
    },
    "projectContext": {
      "uiFramework": null,
      "stylingApproach": null,
      "componentDirs": [],
      "typeDirs": [
        "src/types/*.ts"
      ],
      "availableComponents": {},
      "typeLocations": {},
      "doNotImport": [
        "React"
      ],
      "excludeTypePatterns": [],
      "excludeDirectories": [
        "__tests__",
        "__mocks__",
        "node_modules",
        ".git",
        "dist",
        "build"
      ],
      "projectWarnings": [],
      "customRules": []
    }
  },
  "validation": {
    "afterFileEdit": {
      "enabled": false,
      "commands": {
        "*.ts": [
          "npx tsc --noEmit"
        ],
        "*.tsx": [
          "npx tsc --noEmit",
          "npx eslint {file} --fix"
        ],
        "*.js": [
          "npx eslint {file} --fix"
        ],
        "*.jsx": [
          "npx eslint {file} --fix"
        ]
      },
      "fixErrorsBeforeContinuing": true
    },
    "afterTaskComplete": {
      "enabled": true,
      "commands": [
        "npm run lint",
        "npm run typecheck"
      ]
    },
    "beforeCommit": {
      "enabled": true,
      "commands": [
        "npm run lint",
        "npm run typecheck",
        "npm run test"
      ]
    }
  },
  "agents": {
    "enabled": [
      "orchestrator",
      "story-writer",
      "developer",
      "reviewer",
      "tester"
    ],
    "optional": [
      "accessibility",
      "security",
      "performance",
      "docs",
      "design-system",
      "onboarding"
    ]
  },
  "multiApproach": {
    "enabled": true,
    "mode": "suggest",
    "triggerOn": ["large", "xl"],
    "maxApproaches": 3,
    "selectionStrategy": "first-passing"
  },
  "autoContext": {
    "enabled": true,
    "showLoadedFiles": true,
    "maxFilesToLoad": 10
  },
  "metrics": {
    "enabled": true,
    "trackCommands": true,
    "retentionDays": 30,
    "alertOnFailureRate": 0.3
  },
  "security": {
    "scanBeforeCommit": true,
    "blockOnHigh": true,
    "checkPatterns": {
      "secrets": true,
      "injection": true,
      "npmAudit": true
    },
    "ignoreFiles": ["*.test.ts", "*.spec.ts"]
  },
  "modelAdapters": {
    "enabled": true,
    "autoLearn": true,
    "directory": ".workflow/model-adapters"
  },
  "codebaseInsights": {
    "enabled": true,
    "generateOn": ["onboarding", "manual"]
  }
}